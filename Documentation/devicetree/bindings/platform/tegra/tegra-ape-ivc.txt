NVIDIA Tegra APE aux CPU, with communication via the "IVC" IPC protocol.

APE is an aux CPU which talks to CCPLEX over IVC.

Its assumed that the APE FW implements IVC, and uses HSP IRQs as part of IVC.
Its also assumed that the APE FW expects AST regions 0/1/2 are already set up
for the APE to access FW in DRAM, SYSRAM if applicable, and the IVC memory.

== APE top-level node ==

The APE core is represented by the top-level node including direct HW resources
such as clocks, resets etc.

Required properties:
- compatible: should be "nvidia,tegra186-ape-ivc" for T18x.
- reg: Address entries (APE BASE)
  Formatted as per standard rules for this property.
- nvidia,ast: APE AST0 and APE AST1 phandles
  For details refer: ../tegra-ast.txt
- #address-cells: Number of address cells in subnodes (ivc-channels).
  Should be set to <1>.
- #size-cells: Number of size cells in subnodes (ivc-channels).
  Should be set to <1>.
- clocks: Should contain an entry for each entry in clock-names.
  See ../clock/clock-bindings.txt for details.
- clock-names: Names of the clocks required by APE.
  Must include following entries:
  - ahub
  - apb2ape
  - ape
  - adsp
  - adspneon
- resets: Should contain an entry for each entry in reset-names.
  See ../reset/reset.txt for details.
- reset-names: Names of the resets required for APE.
  Must include following entries:
  - adspdbg
  - adspintf
  - adspneon
  - adspperiph
  - adspscu
  - adspwdt
  - ape
  - adsp

== APE sub nodes ==

* ivc-channels

Contains a sub-node for each IVC channel implemented by the APE.
For IVC channel details, please refer: ./tegra-ivc-channel.txt

* hsp

Describes the hardware synchronization primitive(s) used between CCPLEX
and SCE to signal incoming IVC messages or IVC write room.

Required property:
- compatible: Should match with the device driver implementing the
    cross-processor synchronization primitive.

If the HSP doorbell is used for IVC notifications:

- compatible: "nvidia,tegra186-hsp-doorbell"

- nvidia,hsp-doorbell: <HSP-phandle HSP-ID HSP-DB>
  * HSP is a set of HW synchronization primitives used in Tegra to allow
    multiple processors to share resources and communicate together.
  * HSP-ID is NVIDIA Tegra HSP unique source ID for SCE, used in IPC.
  * HSP-DB is NVIDIA Tegra HSP unique doorbell number allotted to SCE.
    A HSP doorbell allows a set of source agents in Tegra to request the
    attention of specified target agent. In general the agents are processors
    and doorbell used as part of an IPC protocol.
  * For more HSP details, refer: ./tegra-hsp.txt.

If the HSP shared mailbox is used for IVC notifications:

- nvidia,hsp-shared-mailbox: <HSP-phandle MBOX-NUMBER HSP-phandle MBOX-NUMBER...>
  * HSP is a set of HW synchronization primitives used in Tegra to allow
    multiple processors to share resources and communicate together.
  * MBOX-NUMBER is number of shared mailbox pair
  * For more HSP details, refer: ../tegra-hsp.txt.

- nvidia,hsp-shared-mailbox-names:
  Must include following entry:
  - ivc-pair

If the HSP shared mailbox is used for boot synchronization:

- nvidia,hsp-shared-mailbox: <HSP-phandle MBOX-NUMBER...>
- nvidia,hsp-shared-mailbox-names:
  Must include following entry:
  - cmd-pair

== Possible example ==

tegra_ape: rtcpu@2993000 {
	compatible = "nvidia,tegra186-ape-ivc";
	reg = <0x0 0x2993000 0x0 0x10000>;
	nvidia,ast = <&ape_ast0>, <&ape_ast1>;
	clocks =
		<&tegra_car TEGRA186_CLK_AHUB>,
		<&tegra_car TEGRA186_CLK_APB2APE>,
		<&tegra_car TEGRA186_CLK_APE>,
		<&tegra_car TEGRA186_CLK_ADSP>,
		<&tegra_car TEGRA186_CLK_ADSPNEON>;
	clock-names =
		"ahub",
		"apb2ape",
		"ape",
		"adsp",
		"adspneon";
	resets =
		<&tegra_car TEGRA186_RESET_ADSPDBG>,
		<&tegra_car TEGRA186_RESET_ADSPINTF>,
		<&tegra_car TEGRA186_RESET_ADSPNEON>,
		<&tegra_car TEGRA186_RESET_ADSPPERIPH>,
		<&tegra_car TEGRA186_RESET_ADSPSCU>,
		<&tegra_car TEGRA186_RESET_ADSPWDT>,
		<&tegra_car TEGRA186_RESET_APE>,
		<&tegra_car TEGRA186_RESET_ADSP>;
	reset-names =
		"adspdbg",
		"adspintf",
		"adspneon",
		"adspperiph",
		"adspscu",
		"adspwdt",
		"ape",
		"adsp";

	#address-cells = <1>;
	#size-cells = <1>;
	ivc-channels@0 {
		#address-cells = <1>;
		#size-cells = <0>;
		reg = <0x90000000 0x10000>;
		ivc-channel@0 {
			compatible = "nvidia,tegra186-camera-ivc-protocol-echo";
			reg = <0x0000>, <0x0480>;
			reg-names = "rx", "tx";
			nvidia,frame-size = <64>;
			nvidia,frame-count = <16>;
		};
	};
	hsp {
		compatible = "nvidia,tegra186-hsp-mailbox";
		nvidia,hsp-shared-mailbox = <&ape_hsp 1>, <&ape_hsp 7>;
		nvidia,hsp-shared-mailbox-names = "ivc-pair", "cmd-pair";
	};
};
